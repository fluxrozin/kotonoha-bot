# LLM プロバイダー比較（開発用・低コスト）

> **注意**: このドキュメントは検討資料です。最終的な決定は [ADR-0002: LiteLLM マルチプロバイダー戦略](../architecture/adr/0002-litellm-multi-provider-strategy.md) を参照してください。本プロジェクトでは **Claude API（LiteLLM 経由）** を採用しています。

2026 年 1 月現在の開発用無料枠・低コストモデルの比較と、LiteLLM での使いやすさをまとめます。

## 無料枠比較表

| プロバイダー         | モデル                    | 無料枠制限                                | LiteLLM サポート | 日本語対応 | 開発用途評価 |
| -------------------- | ------------------------- | ----------------------------------------- | ---------------- | ---------- | ------------ |
| **Google Gemini**    | `gemini-2.5-flash`        | 5 回/分、20 回/日、250,000 トークン/分    | ✅ 完全サポート  | ✅ 良好    | ⭐⭐⭐       |
| **Google Gemini**    | `gemini-2.5-flash-lite`   | 10 回/分、20 回/日、250,000 トークン/分   | ✅ 完全サポート  | ✅ 良好    | ⭐⭐⭐⭐     |
| **OpenAI**           | `gpt-3.5-turbo`           | 新規アカウントに$5 クレジット（期間限定） | ✅ 完全サポート  | ✅ 良好    | ⭐⭐⭐⭐     |
| **OpenAI**           | `gpt-4o-mini`             | 新規アカウントに$5 クレジット（期間限定） | ✅ 完全サポート  | ✅ 良好    | ⭐⭐⭐⭐     |
| **xAI Grok**         | `grok-4`                  | 期間限定無料（制限不明）                  | ⚠️ 要確認        | ⚠️ 不明    | ⭐⭐         |
| **Anthropic Claude** | `claude-haiku-4.5`        | 有料（低コスト）                          | ✅ 完全サポート  | ✅ 優秀    | ⭐⭐⭐⭐⭐   |
| **Anthropic Claude** | `claude-3-haiku-20240307` | 有料（レガシー、超低コスト）              | ✅ 完全サポート  | ✅ 良好    | ⭐⭐⭐⭐     |

## 詳細比較

### 1. Google Gemini API

**無料枠（2026 年 1 月現在）:**

- `gemini-2.5-flash`: 5 回/分、20 回/日、250,000 トークン/分
- `gemini-2.5-flash-lite`: 10 回/分、20 回/日、250,000 トークン/分
- `gemini-3-flash`: 5 回/分、20 回/日、250,000 トークン/分

**LiteLLM での使いやすさ:**

- ✅ 完全サポート（`gemini/gemini-2.5-flash`形式）
- ✅ 設定が簡単（API キーのみ）
- ✅ 安定した動作

**メリット:**

- 無料枠が利用可能（ただし 1 日 20 回の制限あり）
- 高速応答
- 日本語対応が良好
- LiteLLM での統合が容易

**デメリット:**

- 1 日 20 リクエストの制限が厳しい
- 継続的な開発には有料プランが必要

**開発用途評価:** ⭐⭐⭐⭐（Flash Lite 推奨）

---

### 2. OpenAI API

**無料枠（2026 年 1 月現在）:**

- 新規アカウントに$5 のクレジットが付与される（期間限定）
- 具体的なレート制限は不明（有料プランでは明確）
- クレジットがなくなると有料プランへの移行が必要

**利用可能なモデル:**

- `gpt-3.5-turbo`: 低コスト、高速
- `gpt-4o-mini`: GPT-4o の軽量版、高品質

**LiteLLM での使いやすさ:**

- ✅ 完全サポート（`openai/gpt-3.5-turbo`形式）
- ✅ 最も安定したサポート
- ✅ 豊富なドキュメントとコミュニティ

**メリット:**

- LiteLLM でのサポートが最も充実
- 安定した API
- 日本語対応が良好
- 開発者向けドキュメントが豊富

**デメリット:**

- 無料枠は期間限定（$5 クレジットのみ）
- クレジットがなくなると有料プランが必要
- 継続的な開発には有料プランが必要

**開発用途評価:** ⭐⭐⭐⭐（LiteLLM での使いやすさは最高）

---

### 3. xAI Grok API

**無料枠（2026 年 1 月現在）:**

- Grok 4 が期間限定で無料提供（2025 年 8 月 11 日開始）
- 具体的なレート制限は不明
- 期間限定のため、将来的に有料化される可能性が高い

**LiteLLM での使いやすさ:**

- ⚠️ サポート状況が不明確
- ⚠️ 公式ドキュメントが限定的
- ⚠️ 統合に追加作業が必要な可能性

**メリット:**

- 最新の AI モデル（Grok 4）
- 期間限定だが無料で利用可能

**デメリット:**

- LiteLLM でのサポートが不明確
- 期間限定のため、長期的な開発には不向き
- 日本語対応の評価が不明
- ドキュメントが限定的

**開発用途評価:** ⭐⭐（現時点では推奨しない）

---

### 4. Anthropic Claude Haiku 4.5（低コスト・開発用）

**料金（2026 年 1 月現在）:**

- **入力**: $1 / 100 万トークン
- **出力**: $5 / 100 万トークン
- **無料枠**: なし（有料のみ）

**コスト試算:**

- **1 回の API 呼び出し**（入力 500 トークン、出力 500 トークン）:

  - 入力コスト: 500 / 1,000,000 × $1 = **$0.0005**
  - 出力コスト: 500 / 1,000,000 × $5 = **$0.0025**
  - **合計: $0.003**（約 0.3 セント、約 0.45 円）

- **月間コスト試算**:
  - 1,000 回/月: **約$3**（約 450 円）
  - 5,000 回/月: **約$15**（約 2,250 円）
  - 10,000 回/月: **約$30**（約 4,500 円）
  - 20,000 回/月: **約$60**（約 9,000 円）

**特徴:**

- ✅ 小型・低コスト・高速
- ✅ Sonnet 4 と近いコーディング性能
- ✅ 日本語対応が優秀
- ✅ 場面緘黙支援に必要な繊細な表現が可能（Claude の強み）

**LiteLLM での使いやすさ:**

- ✅ 完全サポート（`anthropic/claude-haiku-4.5`形式）
- ✅ 設定が簡単（API キーのみ）
- ✅ 安定した動作
- ✅ 本番環境と同じプロバイダーで統一可能

**メリット:**

- 開発から本番まで同じプロバイダーで統一できる
- 日本語の品質が高い（Claude の強み）
- コストが低い（1 回あたり約 0.3 セント）
- 無料枠の制限がない
- 開発と本番で品質の差が少ない

**デメリット:**

- 無料枠がない（完全有料）
- Gemini Flash より若干高コスト（ただし制限なし）

**開発用途評価:** ⭐⭐⭐⭐⭐（最初から Claude Haiku を使うのが実は最適かも）

---

### 5. Anthropic Claude 3 Haiku（レガシー・超低コスト・開発用）

**料金（2026 年 1 月現在）:**

- **入力**: $0.25 / 100 万トークン
- **出力**: $1.25 / 100 万トークン
- **無料枠**: なし（有料のみ）

**コスト試算:**

- **1 回の API 呼び出し**（入力 500 トークン、出力 500 トークン）:

  - 入力コスト: 500 / 1,000,000 × $0.25 = **$0.000125**
  - 出力コスト: 500 / 1,000,000 × $1.25 = **$0.000625**
  - **合計: $0.00075**（約 0.075 セント、約 0.11 円）

- **月間コスト試算**:
  - 1,000 回/月: **約$0.75**（約 113 円）
  - 5,000 回/月: **約$3.75**（約 563 円）
  - 10,000 回/月: **約$7.5**（約 1,125 円）
  - 20,000 回/月: **約$15**（約 2,250 円）

**特徴:**

- ✅ 超低コスト（Haiku 4.5 の約 1/4）
- ✅ 高速応答
- ✅ 日本語対応が良好
- ⚠️ レガシーモデル（最新機能なし）
- ⚠️ Extended Thinking なし
- ⚠️ Priority Tier なし
- ⚠️ 最大出力が 4K トークン（Haiku 4.5 は 64K トークン）
- ⚠️ 知識カットオフが 2023 年 8 月（古い）

**LiteLLM での使いやすさ:**

- ✅ 完全サポート（`anthropic/claude-3-haiku-20240307`形式）
- ✅ 設定が簡単（API キーのみ）
- ✅ 安定した動作

**メリット:**

- 非常に低コスト（月 1,000 回で約$0.75）
- 開発初期の大量テストに最適
- 基本的な機能は十分

**デメリット:**

- レガシーモデルのため最新機能がない
- 知識が古い（2023 年 8 月まで）
- 最大出力が 4K トークンと小さい
- Extended Thinking や Priority Tier がない

**開発用途評価:** ⭐⭐⭐⭐（コスト最優先の場合）

**レガシーモデル（Claude 3 Haiku）との比較**:

| 項目                                            | Claude 3 Haiku（レガシー） | Claude Haiku 4.5（最新）   |
| ----------------------------------------------- | -------------------------- | -------------------------- |
| **モデル ID**                                   | `claude-3-haiku-20240307`  | `claude-haiku-4-5`         |
| **入力コスト**                                  | $0.25/100 万トークン       | $1/100 万トークン          |
| **出力コスト**                                  | $1.25/100 万トークン       | $5/100 万トークン          |
| **1 回のコスト**（入力 500、出力 500 トークン） | 約$0.00075（約 0.11 円）   | 約$0.003（約 0.45 円）     |
| **月 1,000 回のコスト**                         | 約$0.75（約 113 円）       | 約$3（約 450 円）          |
| **Extended Thinking**                           | ❌ なし                    | ✅ あり                    |
| **Priority Tier**                               | ❌ なし                    | ✅ あり                    |
| **知識カットオフ**                              | 2023 年 8 月               | 2025 年 2 月               |
| **最大出力**                                    | 4K トークン                | 64K トークン               |
| **推奨**                                        | 開発初期・コスト最優先     | 通常の開発・最新機能が必要 |

**開発用としての推奨**:

- **コスト最優先**: Claude 3 Haiku（レガシー）が約 4 倍安い
- **機能・品質重視**: Claude Haiku 4.5（最新）が推奨
- **バランス**: 通常は Haiku 4.5、大量テスト時は Claude 3 Haiku を検討

**Claude モデル比較:**

| モデル         | 入力コスト | 出力コスト | 特徴           | 用途               | モデル ID（例）     |
| -------------- | ---------- | ---------- | -------------- | ------------------ | ------------------- |
| **Haiku 4.5**  | $1/100 万  | $5/100 万  | 低コスト・高速 | 開発・軽量タスク   | `claude-haiku-4-5`  |
| **Sonnet 4.5** | $3/100 万  | $15/100 万 | バランス型     | 調整・中規模タスク | `claude-sonnet-4-5` |
| **Opus 4.5**   | $5/100 万  | $25/100 万 | 最高品質       | 本番・高品質タスク | `claude-opus-4-5`   |

**参考**: [Claude 公式モデル一覧](https://platform.claude.com/docs/en/about-claude/models/overview)

---

## 開発用途での推奨順位

### 1 位: Anthropic Claude 3 Haiku（レガシー・超低コスト・開発用）または Claude Haiku 4.5（最新・高機能）

**推奨理由:**

- ✅ 開発から本番まで同じプロバイダーで統一可能
- ✅ 日本語の品質が高い（Claude の強み）
- ✅ コストが低い（1 回あたり約 0.3 セント）
- ✅ 無料枠の制限がない
- ✅ LiteLLM でのサポートが充実
- ✅ 場面緘黙支援に必要な繊細な表現が可能

**注意点:**

- 無料枠がない（完全有料）
- ただし、月 1,000 回で約$3（約 450 円）と非常に低コスト

**設定例:**

```bash
# 通常の開発（推奨・超低コスト）
LLM_MODEL=anthropic/claude-3-haiku-20240307
ANTHROPIC_API_KEY=your_anthropic_api_key

# コスト最優先の場合（レガシーモデル）
LLM_MODEL=anthropic/claude-3-haiku-20240307
ANTHROPIC_API_KEY=your_anthropic_api_key
```

**コスト例（Haiku 4.5）:**

- 開発初期（月 500 回）: 約$1.5（約 225 円）
- 通常開発（月 2,000 回）: 約$6（約 900 円）
- 活発な開発（月 5,000 回）: 約$15（約 2,250 円）

**コスト例（Claude 3 Haiku レガシー）:**

- 開発初期（月 500 回）: 約$0.38（約 57 円）
- 通常開発（月 2,000 回）: 約$1.5（約 225 円）
- 活発な開発（月 5,000 回）: 約$3.75（約 563 円）
- 大量テスト（月 10,000 回）: 約$7.5（約 1,125 円）

**選択の目安**:

- **通常の開発**: Haiku 4.5（最新機能、64K 出力、Extended Thinking）
- **コスト最優先・大量テスト**: Claude 3 Haiku（約 1/4 のコスト、4K 出力で十分な場合）

---

### 2 位: OpenAI API（`gpt-3.5-turbo` または `gpt-4o-mini`）

**推奨理由:**

- ✅ LiteLLM でのサポートが最も充実
- ✅ 設定が最も簡単
- ✅ 安定した動作
- ✅ 豊富なドキュメント

**注意点:**

- 無料枠は$5 クレジットのみ（期間限定）
- 継続的な開発には有料プランが必要

**設定例:**

```bash
LLM_MODEL=openai/gpt-3.5-turbo
OPENAI_API_KEY=your_openai_api_key
```

---

### 3 位: Google Gemini API（`gemini-2.5-flash-lite`）

**推奨理由:**

- ✅ 無料枠が利用可能（1 日 20 回）
- ✅ LiteLLM でのサポートが良好
- ✅ 高速応答
- ✅ 日本語対応が良好

**注意点:**

- 1 日 20 リクエストの制限が厳しい
- 継続的な開発には有料プランが必要

**設定例:**

```bash
LLM_MODEL=gemini/gemini-2.5-flash-lite
GEMINI_API_KEY=your_gemini_api_key
```

---

### 4 位: xAI Grok API

**推奨理由:**

- 最新の AI モデル

**推奨しない理由:**

- ⚠️ LiteLLM でのサポートが不明確
- ⚠️ 期間限定のため、長期的な開発には不向き
- ⚠️ ドキュメントが限定的

---

## LiteLLM での使いやすさ比較

| プロバイダー         | 設定の簡単さ | ドキュメント | 安定性     | 総合評価   |
| -------------------- | ------------ | ------------ | ---------- | ---------- |
| **Anthropic Claude** | ⭐⭐⭐⭐⭐   | ⭐⭐⭐⭐⭐   | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| **OpenAI**           | ⭐⭐⭐⭐⭐   | ⭐⭐⭐⭐⭐   | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| **Google Gemini**    | ⭐⭐⭐⭐     | ⭐⭐⭐⭐     | ⭐⭐⭐⭐   | ⭐⭐⭐⭐   |
| **xAI Grok**         | ⭐⭐         | ⭐⭐         | ⭐⭐       | ⭐⭐       |

---

## 結論と推奨事項

### 開発用途での最適な選択

**最初から Claude Haiku を使う場合（推奨）:**

**メリット:**

- ✅ 開発から本番まで同じプロバイダーで統一
- ✅ 日本語の品質が高い（Claude の強み）
- ✅ コストが低い（月 1,000 回で約$3）
- ✅ 無料枠の制限がない
- ✅ 開発と本番で品質の差が少ない

**コスト例:**

- 開発初期（月 500 回）: 約$1.5（約 225 円）
- 通常開発（月 2,000 回）: 約$6（約 900 円）
- 活発な開発（月 5,000 回）: 約$15（約 2,250 円）

**短期開発・プロトタイプ:**

1. **Anthropic Claude 3 Haiku（レガシー）**（推奨・超低コスト）

   - 超低コスト（1 回あたり約 0.075 セント、Haiku 4.5 の約 1/4）
   - 日本語の品質が高い
   - 無料枠の制限がない
   - 開発から本番まで統一可能

2. **OpenAI API** (`gpt-3.5-turbo` または `gpt-4o-mini`)

   - LiteLLM での使いやすさが最高
   - 設定が最も簡単
   - $5 クレジットで試用可能

3. **Google Gemini API** (`gemini-2.5-flash-lite`)
   - 無料枠が利用可能（1 日 20 回）
   - LiteLLM でのサポートが良好
   - 高速応答

**継続的な開発:**

- **Claude 3 Haiku（レガシー）**: 月 1,000 回で約$0.75 と超低コスト
- **Claude Haiku 4.5**: 月 1,000 回で約$3 と低コスト
- **OpenAI API**: 有料プランが必要
- **Google Gemini API**: 無料枠は 1 日 20 回の制限あり

### 本プロジェクトでの推奨

現在のプロジェクト（kotonoha-bot）では、**Claude 3 Haiku（レガシー）**を開発用として採用しています。以下の理由から最適な選択です：

1. **コスト**: 月 1,000 回で約$0.75（約 113 円）と超低コスト（Haiku 4.5 の約 1/4）
2. **品質**: 日本語の品質が高い（Claude の強み）
3. **統一性**: 開発から本番まで同じプロバイダーで統一可能
4. **制限なし**: 無料枠の制限がない
5. **LiteLLM**: 完全サポート

**コスト比較（月 1,000 回の場合）:**

- Claude 3 Haiku（レガシー）: 約$0.75（約 113 円）
- Claude Haiku 4.5: 約$3（約 450 円）
- Gemini Flash（有料）: 要確認
- OpenAI GPT-3.5-turbo: 要確認

**結論**: Claude 3 Haiku（レガシー）を使用することで、超低コストで高品質な開発が可能です。大量テスト時にもコストを抑えられます。

---

## 参考リンク

- [LiteLLM Documentation](https://docs.litellm.ai/)
- [OpenAI API Documentation](https://platform.openai.com/docs)
- [Google Gemini API Documentation](https://ai.google.dev/docs)
- [xAI Grok Documentation](https://x.ai/)（要確認）
- [Anthropic Claude API Documentation](https://docs.anthropic.com/)
- [Claude Pricing](https://www.claude.com/ja-jp/pricing)

---

**最終更新日**: 2026 年 1 月

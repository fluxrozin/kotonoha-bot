# Kotonoha Bot 環境変数設定ファイル
# このファイルをコピーして .env を作成し、実際の値を設定してください

# ============================================
# 必須設定
# ============================================

# Discord Bot Token
DISCORD_TOKEN=your_discord_bot_token_here

# LLM モデル（LiteLLM）
LLM_MODEL=anthropic/claude-3-haiku-20240307   # 開発用（レガシー、超低コスト）
# LLM_MODEL=anthropic/claude-haiku-4.5          # 開発用（最新、高機能）
# LLM_MODEL=anthropic/claude-opus-4-5           # 本番用
# LLM_MODEL=anthropic/claude-sonnet-4-5         # 調整用

# Anthropic API キー
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# ============================================
# LLM 設定
# ============================================

LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=2048
# LLM_FALLBACK_MODEL=anthropic/claude-3-haiku-20240307

# ============================================
# Bot 設定
# ============================================

BOT_PREFIX=!
# MESSAGE_MAX_LENGTH=2000  # 未実装（将来の機能用）

# ============================================
# データベース設定
# ============================================

DATABASE_NAME=sessions.db

# ============================================
# セッション設定（オプション）
# ============================================

# SESSION_TIMEOUT_ACTIVE=300
# SESSION_TIMEOUT_IDLE=1800
# SESSION_MAX_MEMORY=100
# SESSION_HISTORY_LIMIT=50

# ============================================
# 聞き耳型機能設定（オプション）
# ============================================

# EAVESDROP_ENABLED=false
# EAVESDROP_APPROACH=llm
# EAVESDROP_LOG_SIZE=10
# EAVESDROP_KEYWORD_PROBABILITY=0.5
# EAVESDROP_RANDOM_PROBABILITY=0.03

# ============================================
# ログ設定
# ============================================

LOG_LEVEL=INFO
LOG_FILE=./logs/run.log
LOG_MAX_SIZE=10
LOG_BACKUP_COUNT=5

# ============================================
# ヘルスチェック設定
# ============================================

HEALTH_CHECK_ENABLED=true

# ============================================
# Docker/NAS デプロイ設定（オプション）
# ============================================

# バックアップ保持日数
# BACKUP_RETENTION_DAYS=7

# ============================================
# CI/CD 設定
# ============================================

# GitHub リポジトリ名
GITHUB_REPOSITORY=your-username/repository-namerepository-name

# GitHub Personal Access Token（GHCR 認証用）
# GITHUB_USERNAME=your-github-username
# GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ============================================
# Watchtower 設定
# ============================================

# 古いイメージを自動削除
WATCHTOWER_CLEANUP=true

# イメージ更新チェック間隔（秒）
WATCHTOWER_POLL_INTERVAL=300

# ラベルで対象コンテナを制限
WATCHTOWER_LABEL_ENABLE=true

# 通知方法（shoutrrr は通知ライブラリの名前）
# shoutrrr は Discord、Slack、Email、Telegram など様々な通知方法をサポート
WATCHTOWER_NOTIFICATIONS=shoutrrr

# Watchtower 通知 URL（オプション）
# この URL を設定しないと通知は送信されません
#
# Discord Webhook を使用する場合:
# WATCHTOWER_NOTIFICATION_URL=discord://WEBHOOK_TOKEN@WEBHOOK_ID
#
# その他の通知方法の例:
# - Slack: slack://TOKEN@WORKSPACE/CHANNEL
# - Email: smtp://USERNAME:PASSWORD@SMTP_HOST:587/?from=FROM_EMAIL&to=TO_EMAIL
# - Telegram: telegram://BOT_TOKEN@telegram?chats=CHAT_ID
#
# 通知を無効にする場合は空欄のままにしてください
WATCHTOWER_NOTIFICATION_URL=

# Watchtower スケジュール
# cron 形式で更新チェックのスケジュールを指定
# 例: 毎日午前3時 = "0 3 * * *"
# 指定しない場合は WATCHTOWER_POLL_INTERVAL が使用される
WATCHTOWER_SCHEDULE=

# Watchtower ローリング再起動
# true に設定すると、一度に 1 コンテナずつ更新（複数コンテナがある場合）
WATCHTOWER_ROLLING_RESTART=false
